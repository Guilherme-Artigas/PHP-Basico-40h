<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Installation on old Windows systems</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="install.windows.troubleshooting.html">« Troubleshooting PHP on Windows</a></li>
      <li style="float: right;"><a href="install.cloud.html">Instala&ccedil;&atilde;o em Plataformas de Computa&ccedil;&atilde;o em Nuvem »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="install.windows.html">Instala&ccedil;&atilde;o no Windows</a></li>
    <li>Installation on old Windows systems</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="install.windows.legacy.index" class="sect1">
    <h2 class="title">Installation on old Windows systems</h2>
   <p class="para">
    This section applies to Windows 98/Me and Windows NT/2000/XP/2003. PHP 
    will not work on 16 bit platforms such as Windows 3.1 and sometimes 
    we refer to the supported Windows platforms as Win32.
   </p>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     Windows XP/2003 are no longer supported as of PHP 5.5.0.
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     Windows 98/Me/NT4/2000 are no longer supported as of PHP 5.3.0.
    </p>
   </p></blockquote>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     Windows 95 is no longer supported as of PHP 4.3.0.
    </p>
   </p></blockquote>
   <p class="para">
    If you have a development environment such as Microsoft Visual Studio, you can also 
    
    build PHP from the original source code.
   </p>
   <p class="para">
    Once you have PHP installed on your Windows system, you may also
    want to <a href="install.windows.legacy.index.html#install.windows.legacy.extensions" class="link">load various extensions</a>
    for added functionality.
   </p>
   
   

   <div class="sect2" id="install.windows.legacy.manual">
    <h3 class="title">Passos para Instalação Manual</h3>
    <p class="para">
     Esse guia de instalação ajudará você a instalar manualmente e configurar o PHP
     em um servidor web no Microsoft Windows.
    </p>
    <div class="sect3" id="install.windows.legacy.manual.download">
     <h4 class="title">Selecionando e baixando o pacote de distribuição do PHP</h4>
     <p class="para">
      Baixe o binário do PHP em ZIP do link
      <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP para Windows: Binários e fontes</a>.
      Existem várias versões diferentes do pacote zip - escolha a versão que se encaixa
      seguindo o guia detalhado na <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;página de download</a>.
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.manual.package">
     <h4 class="title">Estrutura e conteúdo do pacote PHP</h4>
     <p class="para">
      Descompacte o conteúdo do arquivo zip em um diretório de sua escolha, por
      exemplo C:\PHP\. A estrutura de arquivos e diretórios extraídos serão
      conforme mostrado abaixo:
      <div class="example" id="install.unix.nginx.restart.nginx">
       <p><strong>Exemplo #1 Estrutura do pacote PHP 5</strong></p>
        <div class="example-contents">
<div class="cdata"><pre>

c:\php
   |
   +--dev
   |  |
   |  |-php5ts.lib                 -- php5.lib em versão non thread safe
   |
   +--ext                          -- DLLS de extensões para o PHP
   |  |
   |  |-php_bz2.dll
   |  |
   |  |-php_cpdf.dll
   |  |
   |  |-...
   |
   +--extras                       -- vazio
   |
   +--pear                         -- cópia inicial do PEAR
   |
   |
   |-go-pear.bat                   -- script de setup do PEAR
   |
   |-...
   |
   |-php-cgi.exe                   -- executável CGI
   |
   |-php-win.exe                   -- executa scripts sem um prompt de comando aberto
   |
   |-php.exe                       -- executável PHP de Linha de Comando (CLI)
   |
   |-...
   |
   |-php.ini-development           -- configurações php.ini padrão
   |
   |-php.ini-production            -- configurações php.ini recomendadas
   |
   |-php5apache2_2.dll             -- não existe na versão non thread safe
   |
   |-php5apache2_2_filter.dll      -- não existe na versão non thread safe
   |
   |-...
   |
   |-php5ts.dll                    -- principal DLL do PHP ( php5.dll em versão non thread safe)
   |
   |-...

</pre></div>
       </div>

      </div>
     </p>
     <p class="para">
      Abaixo está a lista de módulos e executáveis incluídos na distrubuição
      zip:
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         <var class="filename">go-pear.bat</var> - o script de setup do PEAR. Veja a <a href="https://pear.php.net/manual/en/installation.php" class="link external">&raquo;&nbsp;Instalação (PEAR)</a>
         para mais detalhes.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">php-cgi.exe</var> - executável CGI que pode ser usado quando rodar o PHP no IIS via CGI ou FastCGI.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">php-win.exe</var> - executável do PHP para executar scripts PHP sem usar uma janela de linha de comando
         (por exemplo aplicativos PHP que usam a interface (GUI) do Windows).
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">php.exe</var> - executável do PHP para executar scripts PHP dentro de uma interface de linha de comando (CLI).
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">php5apache2_2.dll</var> - módulo para o Apache 2.2.X.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="filename">php5apache2_2_filter.dll</var> - filtro para o Apache 2.2.X.
        </p>
       </li>
      </ul>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.manual.phpini">
     <h4 class="title">Alterando o arquivo <var class="filename">php.ini</var></h4>
     <p class="para">
      Depois que o conteúdo do pacote php foi extraído, copie o <var class="filename">php.ini-production</var> para <var class="filename">php.ini</var>
      dentro da mesma pasta. Se necessário, também é possível colocar o <var class="filename">php.ini</var> em qualquer outra localização de sua escolha,
      mas isso requer configurações adicionais conforme descrito em <a href="configuration.file.html" class="link">Configuração do PHP</a>.
     </p>
     <p class="para">
      O arquivo <var class="filename">php.ini</var> diz para o PHP como se configurar, e como trabalhar com
      o ambiente em que ele está rodando. Aqui estão algumas configurações do arquivo <var class="filename">php.ini</var>
      que ajudarão o PHP a funcionar melhor com o Windows. Algumas delas são opcionais. Existem muitas
      outras diretivas que podem ser relevantes para o seu ambiente - veja a
      <a href="ini.list.html" class="link">lista de diretivas do php.ini</a> para mais informações.
     </p>
     <p class="para">
      Diretivas requeridas:
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">extension_dir</var></var> = <em>&lt;caminho para o diretório de extesões&gt;</em> - A <var class="varname"><var class="varname">extension_dir</var></var> precisa
         apontar para o diretório onde as extensões do PHP estão guardadas. O caminho pode ser absoluto
         (ex: &quot;C:\PHP\ext&quot;) ou relativo (ex: &quot;.\ext&quot;). Extensões que estão listadas mais abaixo no arquivo <var class="filename">php.ini</var> precisam
         estar localizadas em <var class="varname"><var class="varname">extension_dir</var></var>.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">extension</var></var> = <em>xxxxx.dll</em> - Para cada extensão que você deseja ativar, você precisa de uma diretiva &quot;extension=&quot;
         correspondente que diga o PHP que extensão no <var class="varname"><var class="varname">extension_dir</var></var> para carregar durante a inicialização.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">log_errors</var></var> = <em>On</em> - O PHP tem um dispositivo de log de erros que pode ser usado para enviar erros para um arquivo,
         ou um serviço (ex: syslog) e funciona em conjunto com a diretiva abaixo <var class="varname"><var class="varname">error_log</var></var>. Quando rodando sob o IIS,
         a <var class="varname"><var class="varname">log_errors</var></var> pode ser ativada, com um <var class="varname"><var class="varname">error_log</var></var> válido.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">error_log</var></var> = <em>&lt;caminho para o arquivo de log de erro&gt;</em> - A error_log deve especificar o caminho absoluto,
         ou relativo para o arquivo onde os erros do PHP devem ser logados. O servidor web precisa ter permissão de escrita para esse arquivo.
         Os caminhos mais comuns para esse arquivo são em diretórios TEMP, por exemplo &quot;C:\inetpub\temp\php-errors.log&quot;.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">cgi.force_redirect</var></var> = <em>0</em> - Essa diretiva é requerida para rodar sob o IIS.
         É uma diretiva de segurança requerida por muitos outros servidores web. Entretanto, ativá-la sob o IIS fará
         com que o motor do PHP falhe no Windows.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">cgi.fix_pathinfo</var></var> = <em>1</em> - Isso permite que o PHP acesse a informação de caminho real dentro das especificações CGI.
         A implementação de IIS e FastCGI precisa que isso seja configurado.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">fastcgi.impersonate</var></var> = <em>1</em> - O FastCGI sob IIS tem a habilidade de imitar tokens de
         segurança do cliente que está chamando. Isso permite que o IIS defina o contexto de segurança da chamada.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">fastcgi.logging</var></var> = <em>0</em> - O log de FastCGI deve ser desativado no IIS. Se for deixado ativo,
         qualquer mensagem de qualquer classe é tratada pelo FastCGI como condições de erro que farão o IIS gerar uma excessão HTTP 500.
        </p>
       </li>
      </ul>
     </p>
     <p class="para">
      Diretivas opcionais
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">max_execution_time</var></var> = <em>##</em> - Essa diretiva diz ao PHP qual o máximo de tempo que ele pode gastar executando
         um determinado script. O padrão é 30 segundos. Aumente o valor dessa diretiva se as aplicações demoram muito tempo para executar.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">memory_limit</var></var> = <em>###M</em> - A quantidade de memória disponível para o processo do PHP, em Megabytes.
         O padrão é 128, que é o suficiente para a maioria das aplicações PHP. Algumas mais complexas podem precisar de mais.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">display_errors</var></var> = <em>Off</em> - Essa diretiva diz ao PHP para incluir, ou não, qualquer mensagem de erro na
         corrente que ele retorna ao servidor Web. Se isso for configurado para &quot;On&quot;, então o PHP irá enviar ao web server qualquer classe
         de erro que você definir na diretiva <var class="varname"><var class="varname">error_reporting</var></var> como parte da corrente de erro.
         Por razões de segurança é recomendado que seja configurada para &quot;Off&quot; em servidores de produção, para não revelar qualquer
         informação de segurança sensível que é geralmente incluída nas mensagens de erro.
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         <var class="varname"><var class="varname">open_basedir</var></var> = <em>&lt;caminhos para diretórios, separados por ponto-e-vírgula&gt;</em>, ex:
         openbasedir=&quot;C:\inetpub\wwwroot;C:\inetpub\temp&quot;. Essa diretiva especifica os caminhos para os diretórios onde o PHP
         pode executar operações de sistema de arquivos. Qualquer operação fora desses caminhos especificados resultará em um erro.
         Essa diretiva é especificamente útil para travar a instalação do PHP dentro de ambientes de hospedagem compartilhados para previnir
         scripts PHP de acessarem quaisquer arquivos fora do diretório raiz do web site.
        </p>
       </li>
       <li class="listitem">
         <p class="para">
          <var class="varname"><var class="varname">upload_max_filesize</var></var> = <em>###M</em> e <var class="varname"><var class="varname">post_max_size</var></var> = <em>###M</em> -
          O tamanho máximo permitido de um arquivo subido e dados de post, respectivamente. Os valores dessas diretivas devem ser aumentados
          em aplicações PHP que precisam fazer grandes uploads, como por exemplo arquivo de fotos e vídeos.
         </p>
        </li>
      </ul>
     </p>
    <p class="para">
     O PHP agora está configurado no seu sistema. O próximo passo é escolher
     um servidor web, e fazer com que ele rode o PHP. Escolha um servidor na tabela
     de conteúdos.
    </p>
    <p class="para">
     Além de rodar o PHP em um servidor web, o PHP pode rodar a partir da linha
     de comando assim como um script <em>.BAT</em>. Veja
      PHP de linha de comando no Microsoft Windows para mais detalhes.
    </p>
    </div>
   </div>



   

<div class="sect2" id="install.windows.legacy.iis">
 <h3 class="title">Microsoft IIS</h3>
 <p class="para">
  Esssa seção contém instruções específicas de instalaçaõ do PHP no Microsoft Internet Information Services (IIS).
 </p>
 <ul class="itemizedlist">
  <li class="listitem">
   <span class="simpara">
    <a href="install.windows.legacy.index.html#install.windows.legacy.iis6" class="link">Instalando o PHP manualmente no Microsoft IIS 5.1 s IIS 6.0</a>
   </span>
  </li>
  <li class="listitem">
   <span class="simpara">
    <a href="install.windows.legacy.index.html#install.windows.legacy.iis7" class="link">Instaland o PHP manualamente no Microsoft IIS 7.0 e posteriores</a>
   </span>
  </li>
 </ul>
</div>



   


<div class="sect2" id="install.windows.legacy.iis6">
 <h3 class="title">Microsoft IIS 5.1 e IIS 6.0</h3>
 <p class="para">
  Esta seção contém instruções de configuração para que Internet Information
  Services (IIS) 5.1 ou IIS 6.0 execute PHP no Microsoft Windows XP ou Windows
  Server 2003. Para instruções em como configurar IIS 7.0 ou versões mais atuais 
  no Windows Vista, Windows Server 2008, Windows 7 e Windows Server 2008 R2 acesse
  <a href="install.windows.legacy.index.html#install.windows.legacy.iis7" class="link">Microsoft IIS 7.0 e posteriores</a>.
 </p>
 <div class="sect3" id="install.windows.legacy.iis6.fastcgi">
  <h4 class="title">Configurando IIS para processar requisições PHP</h4>
  <p class="para">
   Faça o download e instale o PHP de acordo com as instruções descritas em
    <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">instalação manual</a>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      A compilação non-thread-safe é a recomendada para execução no IIS. As compilações
      non-thread-safe estão disponíveis em 
      <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP para Windows: 
      Binários e Fontes.</a>
     </p>
    </p></blockquote>
  </p>
  <p class="para">
      Realize as configurações específicas para CGI ou FastCGI no arquivo 
      <var class="filename">php.ini</var> como mostrado a seguir:
   <div class="example" id="install.unix.nginx.test.nginx.php">
    <p><strong>Exemplo #2 Configurações CGI e FastCGI em <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
fastcgi.logging = 0
cgi.fix_pathinfo=1
cgi.force_redirect = 0</pre>
</div>
    </div>

   </div>
  </p>
  <p class="para">
      Faça o download e a instalação da <a href="http://www.iis.net/extensions/fastcgi" class="link external">&raquo;&nbsp;extensão FastCGI para Microsoft IIS 5.1 and 6.0</a>. 
      A extensão está disponível para plataformas 32 e 64 bits - selecione a que corresponde à sua plataforma.
  </p>
  <p class="para">Configure a extensão FastCGI para atender as requisições PHP executando o comando a seguir.
   Substitua o valor do parâmetro &quot;-path&quot; com o caminho absoluto do arquivo 
   <var class="filename">php-cgi.exe</var>.
   <div class="example" id="example-28">
    <p><strong>Exemplo #3 Configurando FastCGI para atender às requisições PHP</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -add -section:&quot;PHP&quot; ^
-extension:php -path:&quot;C:\PHP\php-cgi.exe&quot;
</pre></div>
    </div>

   </div>
  </p>
  <p class="para">
    Este comando criará um mapeamento de scipts de extensões *.php que resultará com que
    todas as URLs que contenham *.php sejam atendidas pela extensão FastCGI. E também 
    configura a extensão FastCGI a usar o executável 
    <var class="filename">php-cgi.exe</var> para processar as requisições PHP.
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
        Neste ponto os passos necessários para instalação e configuração foram completados.
        As instruções a seguir são opcionais mas altamente recomendadas para o alcance da
        melhor perfomance e funcionalidade do PHP no IIS.
     </p>
   </p></blockquote>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.impersonation">
  <h4 class="title">Impersonalização e acesso ao sistema de arquivos</h4>
  <p class="para">
   É recomendado habilitar a impersonalização do FastCGI no PHP quando executado no IIS.
   Ele é controlado pela directiva <var class="varname"><var class="varname">fastcgi.impersonate</var></var> no arquivo <var class="filename">php.ini</var>. 
   Quando impersonalização é habilitada, o PHP executará todas as ações no sistema
   de arquivos em nome da conta de usuário que foi determinada na autentação do IIS.
   Isso garante que mesmo que o mesmo processo PHP seja compartilhado por diferentes 
   websites no IIS, os scripts PHP nestes websites não poderão acessar os arquivos uns 
   dos outros desde que contas de usuário para autenticação no IIS 
   sejam diferentes para cada website.
  </p>
  <p class="para">
    Por exemplo, os IISs 5.1 e 6.0, em sua configuração padrão, possui autenticação 
    anônima habilitada com um usuário pré-criado IUSR_&lt;MACHINE_NAME&gt; usado 
    como identidade padrão. Isso significa que para o IIS executar os scripts PHP é
    necessário dar privilégios de leitura a estes scripts para o usuário IUSR_&lt;MACHINE_NAME&gt;.
    Se as aplicações PHP precisarem realizar operações de escrita em determinados arquivos
    ou escrever arquivos em algum diretório, o usuário IUSR_&lt;MACHINE_NAME&gt; precisa
    ter os privilégios de escrita necessários no destino.
  </p>
  <p class="para">
    Para determinar qual conta de usuário é usada pela autenticação anônima do IIS, siga estes passos:
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">No menu iniciar selecione &quot;Executar:&quot;, type &quot;inetmgr&quot; e clique em &quot;Ok&quot;;</p>
    </li>
    <li>
        <p class="simpara">Expanda a lista de websites sob o nó &quot;Web Sites&quot; no menu em árvore,
            clique com o botão direito em um website que esteja sendo usado e selecione &quot;Properties&quot;;
     </p>    
    </li>
    <li>
     <p class="simpara">Clique na aba &quot;Directory Security&quot;;</p>    
    </li>
    <li>
     <p class="simpara">Perceba um campo &quot;User name:&quot; na caixa de diálogo &quot;Authentication Methods&quot; </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis6anonauth.png" alt="Autenticação anônima para IIS 5.1 e IIS 6.0" width="654" height="461" />
    </div>
   </div>
  </p>
  <p class="para">
    Para modificar as configurações de permissão de arquivos e diretórios, utilize o Windows
    Exporer ou o comando 
    <var class="varname"><var class="varname">icacls</var></var>.
   <div class="example" id="example-29">
    <p><strong>Exemplo #4 Configurando as permissões de acesso de arquivos</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
</pre></div>     
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.defaultdoc">
  <h4 class="title">Defina <var class="filename">index.php</var> como o documento padrão no IIS</h4>
  <p class="para">
    Os documentos padrão são usados pelo IIS para redirecionamento de requisições HTTP 
    que não especificam o nome do documento.
    Com as aplicações PHP,
   <var class="filename">index.php</var> normalmente atua como o documento padrão. Para adicionard <var class="filename">index.php</var> à lista de  
   documentos padrão IIS, siga estes passos:
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">No menu iniciar escolha &quot;Executar:&quot;, type &quot;inetmgr&quot; e clique em &quot;Ok&quot;;</p>
    </li>
    <li>
     <p class="simpara">Clique com o botão direito no nó &quot;Web Sites&quot; do menu em árvore e selecione &quot;Properties&quot;;</p>
    </li>
    <li>
     <p class="simpara">Clique na aba &quot;Documents&quot; ;</p>
    </li>
    <li>
     <p class="simpara">Clique no botão &quot;Add...&quot; e informe &quot;index.php&quot; como &quot;Default content page:&quot;.</p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/8df778df14add0524e333b05e8d65498-iis6defaultdoc.png" alt="Definindo index.php como o documento padrão no IIS" width="659" height="465" />
    </div>
   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.recycling">
  <h4 class="title">Configuração de FastCGI e reciclagem PHP</h4>
  <p class="para">
   Configure a extensão FastCGI para reciclagem dos processos PHP usando os comandos a seguir.
   A configuração FastCGI <var class="varname"><var class="varname">instanceMaxRequests</var></var> controla quantos requisição serão processadas por um único processo 
   <var class="filename">php-cgi.exe</var> antes que a extensão FastCGI se encerre. A variável de ambiente
   <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var> controla quantas requisições um único processo <var class="filename">php-cgi.exe</var> 
   manipulará antes que ele se recicle. Certifique-se que o valor especificado para a configuração FastCGI <var class="varname"><var class="varname">InstanceMaxRequests</var></var>
   seja menor ou igual ao valor especificado para <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var>.
   <div class="example" id="example-30">
    <p><strong>Exemplo #5 Configuração de FastCGI e reciclagem PHP</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-InstanceMaxRequests:10000

cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-EnvironmentVars:PHP_FCGI_MAX_REQUESTS:10000
</pre></div>     
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.timeouts">
  <h4 class="title">Configurando timeout para FastCGI</h4>
  <p class="para">
   Aumente as configurações de timeout para a extensão FastCGI caso existam aplicações com scripts de longa execução.
   As duas configurações que controlam timeout são <var class="varname"><var class="varname">ActivityTimeout</var></var> e <var class="varname"><var class="varname">RequestTimeout</var></var>. 
   Verifique <a href="http://learn.iis.net/page.aspx/248/configuring-fastcgi-extension-for-iis-60/" class="link external">&raquo;&nbsp;Configurando extensão FastCGI para IIS 6.0</a> para mais
   informações sobre estas configurações.
   <div class="example" id="install.unix.openbsd.ports.example">
    <p><strong>Exemplo #6 Configurando timeout para FastCGI</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-ActivityTimeout:90

cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-RequestTimeout:90
</pre></div>     
    </div>

   </div>
   </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis6.phpinilocation">
  <h4 class="title">Alterando a localização do arquivo <var class="filename">php.ini</var> </h4>
  <p class="para">
   O PHP procura pelo arquivo <var class="filename">php.ini</var> em
   <a href="configuration.file.html" class="link">diversas localizaçõe</a> e é  
   possível alterar a configuração padrão do arquivo <var class="filename">php.ini</var> 
   usando a variável de ambiente <var class="varname"><var class="varname">PHPRC</var></var>. Para instruir o PHP  
   a carregar o arquivo de configuração de uma localização customizada execute o comando exibido abaixo.
   O caminho absoluto para o diretório que contém o arquivo <var class="filename">php.ini</var> deve ser 
   especificado como um valor na variável de ambiente <var class="varname"><var class="varname">PHPRC</var></var>.
   <div class="example" id="install.unix.debian.apt.example">
    <p><strong>Exemplo #7 Alterando a localização do arquivo <var class="filename">php.ini</var> </strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
-EnvironmentVars:PHPRC:&quot;C:\Some\Directory\&quot;
</pre></div>         
    </div>

   </div>
  </p>
 </div>
</div>



   


<div class="sect2" id="install.windows.legacy.iis7">
 <h3 class="title">Microsoft IIS 7.0 and later</h3>
 <p class="para">
  This section contains instructions for manually setting up Internet Information 
  Services (IIS) 7.0 and later to work with PHP on Microsoft Windows Vista SP1, 
  Windows 7, Windows Server 2008 and Windows Server 2008 R2. For instructions 
  on setting up IIS 5.1 and IIS 6.0 on Windows XP and Windows Server 2003 refer to 
  <a href="install.windows.legacy.index.html#install.windows.legacy.iis6" class="link">Microsoft IIS 5.1 and IIS 6.0</a>.
 </p>
 <div class="sect3" id="install.windows.legacy.iis7.fastcgi.enable">
  <h4 class="title">Enabling FastCGI support in IIS</h4>
  <p class="para">
   FastCGI module is disabled in default installation of IIS. The steps to enable it differ 
   based on the version of Windows being used.
  </p>
  <p class="para">
   To enable FastCGI support on Windows Vista SP1 and Windows 7:
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      In the Windows Start Menu choose &quot;Run:&quot;, type &quot;optionalfeatures.exe&quot; 
      and click &quot;Ok&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      In the &quot;Windows Features&quot; dialog expand &quot;Internet Information 
      Services&quot;, &quot;World Wide Web Services&quot;, &quot;Application Development 
      Features&quot; and then enable the &quot;CGI&quot; checkbox;
     </p>
    </li>
    <li>
     <p class="simpara">
      Click OK and wait until the installation is complete.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7vistacgi.png" alt="Enabling FastCGI support for IIS7 on Windows Vista SP1 and Windows 7" width="429" height="375" />
    </div>
   </div>
  </p>
  <p class="para">
   To enable FastCGI support on Windows Server 2008 and Windows Server 2008 R2:
   <div class="procedure">
    <ol type="1"><li>
     <p class="simpara">
      In the Windows Start Menu choose &quot;Run:&quot;, type &quot;CompMgmtLauncher&quot; 
      and click &quot;Ok&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      If the &quot;Web Server (IIS)&quot; role is not present under the &quot;Roles&quot; 
      node, then add it by clicking &quot;Add Roles&quot;;
     </p>
    </li>
    <li>
     <p class="simpara">
      If the &quot;Web Server (IIS)&quot; role is present, then click &quot;Add Role Services&quot; 
      and then enable the &quot;CGI&quot; checkbox under &quot;Application Development&quot; group;
     </p>
    </li>
    <li>
     <p class="simpara">
      Click &quot;Next&quot; and then &quot;Install&quot; and wait for the installation to complete.
     </p>
    </li>
   </ol></div>
   <div class="mediaobject">
    
    <div class="imageobject">
     <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7w2k8cgi.png" alt="Enabling FastCGI support on Windows Server 2008 and Windows Server 2008 R2" width="546" height="411" />
    </div>
   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.fastcgi.conf">
  <h4 class="title">Configuring IIS to process PHP requests</h4>
  <p class="para">
   Download and install PHP in accordance to the instructions described in 
    <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">manual installation steps</a>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Non-thread-safe build of PHP is recommended when using IIS. The non-thread-safe 
      builds are available at <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP for Windows: 
      Binaries and Sources Releases.</a>
     </p>
    </p></blockquote>
  </p>
  <p class="para">
   Configure the CGI- and FastCGI-specific settings in <var class="filename">php.ini</var> file as shown below:
   <div class="example" id="install.unix.debian.apt.example2">
    <p><strong>Exemplo #8 CGI and FastCGI settings in <var class="filename">php.ini</var></strong></p>
    <div class="example-contents">
<div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
fastcgi.logging = 0
cgi.fix_pathinfo=1
cgi.force_redirect = 0</pre>
</div>
    </div>

   </div>
  </p>
  <p class="para">
   Configure IIS handler mapping for PHP by using either IIS Manager user interface or a command line tool.
  </p>
  <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.ui">
   <h5 class="title">Using IIS Manager user interface to create a handler mapping for PHP</h5>
    <p class="para">
     Follow these steps to create an IIS handler mapping for PHP in IIS Manager user interface:
     <div class="procedure">
      <ol type="1"><li>
       <p class="simpara">In the Windows Start Menu choose &quot;Run:&quot;, type &quot;inetmgr&quot; and click &quot;Ok&quot;;</p>
      </li>
      <li>
       <p class="simpara">In the IIS Manager user interface select the server node in the &quot;Connections&quot; tree view;</p>
      </li>
      <li>
       <p class="para">
        In the &quot;Features View&quot; page open the &quot;Handler Mappings&quot; feature;
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlericon.png" alt="Create IIS handler mapping for PHP : Locate Handler Mappings" width="708" height="515" />
         </div>
        </div>
       </p>
      </li>
      <li>
       <p class="simpara">In the &quot;Actions&quot; pane click &quot;Add Module Mapping...&quot;;</p>
      </li>
      <li>
       <p class="para">
        In the &quot;Add Module Mapping&quot; dialog enter the following:
        <ul class="itemizedlist">
         <li class="listitem">
          <span class="simpara">Request path: *.php</span>
         </li>
         <li class="listitem">
          <span class="simpara">Module: FastCgiModule</span>
         </li>
         <li class="listitem">
          <span class="simpara">Executable: C:\[Path to PHP installation]\php-cgi.exe</span>
         </li>
         <li class="listitem">
          <span class="simpara">Name: PHP_via_FastCGI</span>
         </li>
        </ul>
       </p>
      </li>
      <li>
       <p class="simpara">
        Click &quot;Request Restrictions&quot; button and then configure the mapping to invoke handler 
        only if request is mapped to a file or a folder;
        </p>
      </li>
      <li>
       <p class="simpara">Click OK on all the dialogs to save the configuration.</p>
      </li>
     </ol></div>
     <div class="mediaobject">
      
      <div class="imageobject">
       <img src="images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlermap.png" alt="Create IIS handler mapping for PHP : Add Handler Mapping" width="705" height="512" />
      </div>
     </div>
    </p>
  </div>
  <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.cmd">
   <h5 class="title">Using command line tool to create a handler mapping for PHP</h5>
   <p class="para">
    Use the command shown below to create an IIS FastCGI process pool which will use <var class="filename">php-cgi.exe</var> 
    executable for processing PHP requests. Replace the value of the <var class="varname"><var class="varname">fullPath</var></var> parameter with the 
    absolute file path to the <var class="filename">php-cgi.exe</var> file.
    <div class="example" id="install.unix.debian.config.example">
     <p><strong>Exemplo #9 Creating IIS FastCGI process pool</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd set config /section:system.webServer/fastCGI ^
/+[fullPath=&#039;c:\PHP\php-cgi.exe&#039;]
</pre></div>
     </div>

    </div>
   </p>
   <p class="para">
    Configure IIS to handle PHP specific requests by running the command shown below. Replace the value of the 
    <var class="varname"><var class="varname">scriptProcessor</var></var> parameter with the absolute file path to the <var class="filename">php-cgi.exe</var> file.
    <div class="example" id="install.unix.debian.config.example2">
     <p><strong>Exemplo #10 Creating handler mapping for PHP requests</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers ^
/+[name=&#039;PHP_via_FastCGI&#039;, path=&#039;*.php&#039;,verb=&#039;*&#039;,modules=&#039;FastCgiModule&#039;,^
scriptProcessor=&#039;c:\PHP\php-cgi.exe&#039;,resourceType=&#039;Either&#039;]
</pre></div>
     </div>

    </div>
   </p>
   <p class="para">
    This command creates an IIS handler mapping for *.php file extension, which will result in all URLs that 
    end with .php being handled by FastCGI module.
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      At this point the required installation and configuration steps are completed. The remaining 
      instructions below are optional but highly recommended for achieving optimal functionality 
      and performance of PHP on IIS.
     </p>
    </p></blockquote>
   </p>
  </div>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.impersonation">
  <h4 class="title">Impersonation and file system access</h4>
  <p class="para">
   It is recommended to enable FastCGI impersonation in PHP when using IIS. This 
   is controlled by the <var class="varname"><var class="varname">fastcgi.impersonate</var></var> directive in <var class="filename">php.ini</var> 
   file. When impersonation is enabled, PHP will perform all the file system operations on behalf of 
   the user account that has been determined by IIS authentication. This ensures that even if the 
   same PHP process is shared across different IIS web sites, the PHP scripts in those web sites 
   will not be able to access each other&#039;s files as long as different user accounts are used 
   for IIS authentication on each web site.
  </p>
  <p class="para">
   For example IIS 7, in its default configuration, has anonymous authentication enabled with 
   built-in user account IUSR used as a default identity. This means that in order for IIS to 
   execute PHP scripts, it is necessary to grant IUSR account read permission on those scripts. 
   If PHP applications need to perform write operations on certain files or write files into some 
   folders then IUSR account should have write permission to those.
  </p>
  <p class="para">
   To determine what user account is used as an anonymous identity in IIS 7 use the following command. 
   Replace the &quot;Default Web Site&quot; with the name of IIS web site that you use. In the output 
   XML configuration element look for the <var class="varname"><var class="varname">userName</var></var> attribute.
   <div class="example" id="example-36">
    <p><strong>Exemplo #11 Determining the account used as IIS anonymous identity</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe list config &quot;Default Web Site&quot; ^
/section:anonymousAuthentication

&lt;system.webServer&gt;
  &lt;security&gt;
    &lt;authentication&gt;
      &lt;anonymousAuthentication enabled=&quot;true&quot; userName=&quot;IUSR&quot; /&gt;
    &lt;/authentication&gt;
   &lt;/security&gt;
&lt;/system.webServer&gt;
</pre></div>
    </div>

   </div>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     If <var class="varname"><var class="varname">userName</var></var> attribute is not present in the <var class="varname"><var class="varname">anonymousAuthentication</var></var> element, 
     or is set to an empty string, then it means that the application pool identity is used as an 
     anonymous identity for that web site.
    </p>
   </p></blockquote>
  </p>
  <p class="para">
   To modify the permissions settings on files and folders, use the Windows Explorer 
   user interface or <var class="varname"><var class="varname">icacls</var></var> command.
   <div class="example" id="example-37">
    <p><strong>Exemplo #12 Configuring file access permissions</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
</pre></div>
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.defaultdoc">
  <h4 class="title">Set <var class="filename">index.php</var> as a default document in IIS</h4>
  <p class="para">
   The IIS default documents are used for HTTP requests that do not specify a 
   document name. With PHP applications, <var class="filename">index.php</var> usually 
   acts as a default document. To add <var class="filename">index.php</var> to the list 
   of IIS default documents, use this command:
   <div class="example" id="example-38">
    <p><strong>Exemplo #13 Set <var class="filename">index.php</var> as a default document in IIS</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config ^
-section:system.webServer/defaultDocument /+&quot;files.[value=&#039;index.php&#039;]&quot; ^
/commit:apphost
</pre></div>
    </div>

   </div>   
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.recycling">
  <h4 class="title">FastCGI and PHP Recycling configuration</h4>
  <p class="para">
   Configure IIS FastCGI settings for recycling of PHP processes by using the commands shown below. 
   The FastCGI setting <var class="varname"><var class="varname">instanceMaxRequests</var></var> controls how many requests will be 
   processed by a single <var class="filename">php-cgi.exe</var> process before IIS shuts it down. 
   The PHP environment variable <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var> controls how many 
   requests a single <var class="filename">php-cgi.exe</var> process will handle before it recycles 
   itself. Make sure that the value specified for FastCGI <var class="varname"><var class="varname">InstanceMaxRequests</var></var> 
   setting is less than or equal to the value specified for <var class="varname"><var class="varname">PHP_FCGI_MAX_REQUESTS</var></var>.
   <div class="example" id="example-39">
    <p><strong>Exemplo #14 Configuring FastCGI and PHP recycling</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;c:\php\php-cgi.exe&#039;].instanceMaxRequests:10000

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/+&quot;[fullPath=&#039;C:\{php_folder}\php-cgi.exe&#039;].environmentVariables.^
[name=&#039;PHP_FCGI_MAX_REQUESTS&#039;,value=&#039;10000&#039;]&quot;
</pre></div>
    </div>

   </div>
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.timeouts">
  <h4 class="title">FastCGI timeout settings</h4>
  <p class="para">
   Increase the timeout settings for FastCGI if it is expected to have long running PHP scripts.
   The two settings that control timeouts are <var class="varname"><var class="varname">activityTimeout</var></var> and 
   <var class="varname"><var class="varname">requestTimeout</var></var>. Use the commands below to change the timeout settings. 
   Make sure to replace the value in the <var class="varname"><var class="varname">fullPath</var></var> parameter to 
   contain the absolute path to the <var class="filename">php-cgi.exe</var> file.
   <div class="example" id="example-40">
    <p><strong>Exemplo #15 Configuring FastCGI timeout settings</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].activityTimeout:&quot;90&quot;  /commit:apphost

%windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
/[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].requestTimeout:&quot;90&quot;  /commit:apphost
</pre></div>
    </div>

   </div>   
  </p>
 </div>
 <div class="sect3" id="install.windows.legacy.iis7.phpinilocation">
  <h4 class="title">Changing the Location of <var class="filename">php.ini</var> file</h4>
  <p class="para">
   PHP searches for <var class="filename">php.ini</var> file in 
   <a href="configuration.file.html" class="link">several locations</a> and it is 
   possible to change the default locations of <var class="filename">php.ini</var> 
   file by using <var class="varname"><var class="varname">PHPRC</var></var> environment variable. To instruct PHP 
   to load the configuration file from a custom location run the command shown below. 
   The absolute path to the directory with <var class="filename">php.ini</var> file should be 
   specified as a value of <var class="varname"><var class="varname">PHPRC</var></var> environment variable.
   <div class="example" id="example-41">
    <p><strong>Exemplo #16 Changing the location of <var class="filename">php.ini</var> file</strong></p>
    <div class="example-contents">
<div class="cdata"><pre>
appcmd.exe set config  -section:system.webServer/fastCgi ^
/+&quot;[fullPath=&#039;C:\php\php.exe&#039;,arguments=&#039;&#039;].environmentVariables.^
[name=&#039;PHPRC&#039;,value=&#039;C:\Some\Directory\&#039;]&quot; /commit:apphost
</pre></div>         
    </div>

   </div>   
  </p>
 </div>
</div>


   
   

   <div class="sect2" id="install.windows.legacy.apache1">
    <h3 class="title">Apache 1.3.x no Microsoft Windows</h3>
    <p class="para">
     Essa seção contem notas e dicas específicas para instalação do Apache 1.3.x com
     o PHP nos sistemas Microsoft Windows. Também há
     
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Por favor, leia os <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">passos
      da instalação manual</a> primeiro!
     </p>
    </p></blockquote>

    <p class="simpara">
     Existem duas maneiras de configurar o PHP para funcionar com o Apache 1.3.x
     no Windows. Uma é usar o binário CGI (<var class="filename">php.exe</var>
     para o PHP 4 e <var class="filename">php-cgi.exe</var> para o PHP 5),
     e a outra é usar o DLL do módulo do Apache. Em ambos os casos
     você precisa editar o arquivo <var class="filename">httpd.conf</var> para configurar o Apache para
     funcionar com o PHP e, então, reiniciar o servidor.
    </p>

    <p class="simpara">
     Vale a pena notar que agora o módulo SAPI tornou-se mais
     estável no Windows, nós recomendamos o seu uso ao invés
     do binário CGI, uma vez que é mais transparente e seguro.
    </p>

    <p class="simpara">
     Embora existam algumas pequenas variações de configuração do PHP
     com o Apache, elas são simples o suficiente para ser usado por
     iniciantes. Por favor, consulte a Documentação do Apache para mais
     diretivas de configuração.
    </p>

    <p class="simpara">
     Depois de mudar o arquivo de configuração, lembre-se de reiniciar o servidor, por
     exemplo, executando <strong class="command">NET STOP APACHE</strong> seguido de
     <strong class="command">NET START APACHE</strong>, se você rodar o Apache como um Windows
     Service, ou user os atalhos normais.
    </p>

    <blockquote class="note"><p><strong class="note">Nota</strong>: <span class="simpara">Lembre que ao adicionar
caminhos nos arquivos de configuração do Apache no Windows, todos as contrabarras
como em <var class="filename">c:\directory\file.ext</var> devem ser convertidos para
barras: <var class="filename">c:/directory/file.ext</var>. Uma barra
terminal também pode ser necessário para diretórios.</span></p></blockquote>

    <div class="sect3" id="install.windows.legacy.apache1.module">
     <h4 class="title">Instalando como um módulo do Apache</h4>
     <p class="para">
      Você deve adicionar as seguintes linhas para o seu arquivo <var class="filename">httpd.conf</var>:
     </p>
     <p class="para">
      <div class="example" id="example-42">
       <p><strong>Exemplo #17 PHP como um módulo do Apache 1.3.x</strong></p>
        <div class="example-contents"><p>
         Presume-se que o PHP esteja instalado em <var class="filename">c:\php</var>. Ajuste o
         caminho se não for o seu caso.
        </p></div>
        <div class="example-contents"><p>
         Para o PHP 4:
        </p></div>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># Adicione ao fim da seção LoadModule
# Não se esqueça de copiar esse arquivo do diretório sapi
LoadModule php4_module &quot;c:/php/php4apache.dll&quot;

# Adicione ao fim da seção AddModule
AddModule mod_php4.c</pre>
</div>
       </div>

       <div class="example-contents"><p>
        Para o PHP 5:
       </p></div>
       <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># Adicione ao fim da seção LoadModule
LoadModule php5_module &quot;C:/php/php5apache.dll&quot;

# Adicione ao fim da seção AddModule
AddModule mod_php5.c</pre>
</div>
       </div>

       <div class="example-contents"><p>
        Para ambos:
       </p></div>
       <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode"># Adicione essa linha dentro das tags condicionais &lt;IfModule mod_mime.c&gt;
AddType application/x-httpd-php .php

# Para arquivos .phps com highlight de sintaxe adicione também
AddType application/x-httpd-php-source .phps</pre>
</div>
       </div>

      </div>
     </p>
    </div>

    <div class="sect3" id="install.windows.legacy.apache1.cgi">
     <h4 class="title">Instalando como um binário CGI</h4>

     <p class="para">
      Se você dezipou o pacote PHP para o diretório <var class="filename">C:\php\</var> como descrito
      na seção <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">Passos da
      Instalação Manual</a>, você precisa inserir
      as seguintes linhas ao arquivo de configuração do Apache para
      configurar o uso do binário CGI:
      <div class="example" id="example-43">
       <p><strong>Exemplo #18 PHP e Apache 1.3.x como CGI</strong></p>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">ScriptAlias /php/ &quot;c:/php/&quot;
AddType application/x-httpd-php .php

# Para o PHP 4
Action application/x-httpd-php &quot;/php/php.exe&quot;

# Para o PHP 5
Action application/x-httpd-php &quot;/php/php-cgi.exe&quot;

# especifica o diretório onde o php.ini está
SetEnv PHPRC C:/php</pre>
</div>
       </div>

      </div>
      Note que a segunda linha na lista acima pode ser encontrada
      na versão padrão do <var class="filename">httpd.conf</var>, mas está comentada. Lembre-se
      de substituir também o <var class="filename">c:/php/</var> pelo caminho
      do PHP no seu sistema.
     </p>
     <div class="warning"><strong class="warning">Aviso</strong><p class="para">Um servidor implantado em modo CGI está aberto
 para várias vulnerabilidades possíveis. Por favor, leia nossa
 <a href="security.cgi-bin.html" class="link">seção de segurança CGI</a> para aprender em como
 se defender de tais ataques.</p></div>
     <p class="simpara">
      Se você gostaria de apresentar os códigos-fonte dos PHP com highlight de sintaxe,
      não exites uma opção conveniente como na versão de módulo.
      Se você escolheu configura o Apache para usar o PHP como um binário CGI, você
      precisará usar a função <span class="function"><a href="function.highlight-file.html" class="function">highlight_file()</a></span>. Para
      fazer isso, simplesmente crie um script PHP e adicione esse código:
      <em>&lt;?php highlight_file(&#039;some_php_script.php&#039;); ?&gt;</em>.
     </p>
    </div>

   </div>



   

   <div class="sect2" id="install.windows.legacy.apache2">
    <h3 class="title">Apache 2.x no Microsoft Windows</h3>
    <p class="para">
     Essa seção contem notas e dicas específicas para instalação do Apache 2.x com
     o PHP nos sistemas Microsoft Windows.Também há
     
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Por favor, leia os <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">passos
      da instalação manual</a> primeiro!
     </p>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <strong>Suporte a Apache 2.2</strong><br />
     <p class="para">
      Usuários do Apache 2.2 devem notar que o arquivo DLL para o Apache 2.2 é
      chamado <var class="filename">php5apache2_2.dll</var> em vez de <var class="filename">php5apache2.dll</var>
      e é disponível apenas para versões do PHP 5.2.0 e posteriores.
     </p>
    </p></blockquote>

    <p class="para">
     Encorajamos que você olhe a
     <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;Documentação do Apache</a> para
     entender o básico do Servidor Apache 2.x. Também considere ler
     as <a href="http://httpd.apache.org/docs/current/platform/windows.html" class="link external">&raquo;&nbsp;notas específicas para o
     Windows</a> para o Apache 2.x antes de continuar.
    </p>

     <p class="para">
      O Apache 2.x foi desenhado para rodar nas versões Windows do
      do tipo servidoras, como Windows NT 4.0, Windows 2000,
      Windows XP e Windows 7. O Apache 2.x funcionará rasoavelmente no Windows 9x,
      mas o suporte nessa plataforma é incompleto, e algumas coisas não funcionarão
      corretamente. Não há como remediar essas situações.
     </p>

    <p class="para">
     Baixe a versão mais recente do <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;
     Apache 2.x</a> e uma versão apropriada do PHP.
     Siga os <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">Passos da Instalação
     Manual</a> e volte para continuar com a integração do PHP e Apache.
    </p>

    <p class="para">
     Existem três maneiras de rodar o PHP sob o Apache 2.x no Windows.
     O PHP como módulo (handler), como CGI ou como FastCGI.
    </p>

    <blockquote class="note"><p><strong class="note">Nota</strong>: <span class="simpara">Lembre que ao adicionar
caminhos nos arquivos de configuração do Apache no Windows, todos as contrabarras
como em <var class="filename">c:\directory\file.ext</var> devem ser convertidos para
barras: <var class="filename">c:/directory/file.ext</var>. Uma barra
terminal também pode ser necessário para diretórios.</span></p></blockquote>

    <div class="sect3" id="install.windows.apache2.legacy.module">
     <h4 class="title">Instalando como um módulo do Apache</h4>
     <p class="para">
      Você precisa inserir essas duas linhas ao
      arquivo de configuração de Apache <var class="filename">httpd.conf</var> para
      configurar o módulo PHP para o Apache 2.0:
      <div class="example" id="example-44">
       <p><strong>Exemplo #19 PHP e Apache 2.0 como Módulo</strong></p>
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">#
LoadModule php5_module &quot;c:/php/php5apache2.dll&quot;
AddHandler application/x-httpd-php .php

# configure o caminho para o arquivo php.ini
PHPIniDir &quot;C:/php&quot;</pre>
</div>
       </div>

      </div>
     </p>
     <blockquote class="note"><p><strong class="note">Nota</strong>: 
      <span class="simpara">
       Lembre-se de substituir o caminho atual do PHP em vez de
       <var class="filename">C:/php/</var> dos exemplos acima. Use
       <var class="filename">php5apache2.dll</var> ou
       <var class="filename">php5apache2_2.dll</var> na sua diretiva e
       verifique que o arquivo referenciado está localizado de fato no caminho
       apontado na diretiva.
      </span>
     </p></blockquote>
      <p class="para">
      A configuração acima habilitará a manipulação do PHP por qualquer arquivo
      com a extensão, mesmo que existam outras extensões. Por exemplo, um
      arquivo chamado<var class="filename">example.php.txt</var> será executado pelo
      manipulador do PHP. Para garantir que apenas arquivos com a extensão <em class="emphasis">terminal</em>
      <var class="filename">.php</var> sejam executados então utilize a seguinte
      configuração:
      </p>

      <div class="example" id="example-45">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
      SetHandler application/x-httpd-php
 &lt;/FilesMatch&gt;</pre>
</div>
       </div>

      </div>
    </div>

    <div class="sect3" id="install.windows.apache2.legacy.cgi">
     <h4 class="title">Rodando o PHP como CGI</h4>

     <p class="para">
      Consulte a <a href="http://httpd.apache.org/docs/current/howto/cgi.html" class="link external">&raquo;&nbsp;Documentação CGI
      do Apache</a> para melhor compreensão de se rodar CGIs
      no Apache.
     </p>

     <p class="para">
      Para rodar o PHP como CGI você precisará colocar seus arquivos php-cgi em um
      diretório assim designado, utilizando para isso a diretiva ScriptAlias.
     </p>

     <p class="para">
      Terá também de inserir uma linha #! nos arquivos PHP, apontando para a
      localização do executável do PHP:

      <div class="example" id="example-46">
       <p><strong>Exemplo #20 PHP e Apache 2.x como CGI</strong></p>
        <div class="example-contents">
<div class="cdata"><pre>
#!C:/php/php.exe
&lt;?php
  phpinfo();
?&gt;
</pre></div>
       </div>

      </div>
     </p>
     <div class="warning"><strong class="warning">Aviso</strong><p class="para">Um servidor implantado em modo CGI está aberto
 para várias vulnerabilidades possíveis. Por favor, leia nossa
 <a href="security.cgi-bin.html" class="link">seção de segurança CGI</a> para aprender em como
 se defender de tais ataques.</p></div>
    </div>

    <div class="sect3" id="install.windows.apache2.legacy.fastcgi">
     <h4 class="title">Rodando o PHP como FastCGI</h4>

     <p class="para">
     Rodar como FastCGI tem vantangens do que rodar como
     CGI. A configuração é simples:
     </p>
     <p class="para">
     Obtenha o mod_fcgid de
     <a href="http://httpd.apache.org/mod_fcgid/" class="link external">&raquo;&nbsp;http://httpd.apache.org/mod_fcgid/</a>. Executáveis
     Win32 estão disponíveis para download desse arquivo. Instale o módulo
     de acordo com as instruções que acompanham o binário.
     </p>
     <p class="para">
     Configure o seu servidor como mostrado abaixo, tomando cuidado de ajustar quaisquer caminhos
     de forma a refletir os locais onde estão instalados os componentes no seu sistema:

     <div class="example" id="example-47">
     <p><strong>Exemplo #21 Configurar o Apache para rodar PHP como FastCGI</strong></p>
     <div class="example-contents">
<div class="cdata"><pre>
LoadModule fcgid_module modules/mod_fcgid.so

# Onde está o seu arquivo php.ini?
FcgidInitialEnv PHPRC        &quot;c:/php&quot;

AddHandler fcgid-script .php
FcgidWrapper &quot;c:/php/php-cgi.exe&quot; .php
</pre></div>
     </div>

     </div>

     Arquivos com a extensão .php agora serão executados pelo manipulador
     FastCGI do PHP.
     </p>

    </div>

   </div>



   

  <div class="sect2" id="install.windows.legacy.sun">
   <h3 class="title">Servidores Sun, iPlanet e Netscape no Microsoft Windows</h3>
   <p class="para">
    Essa seção contem notas e dicas específicas para instalação do PHP em servidores
    Sun Java System Web Server, Sun ONE Web Server, iPlanet e Netscape no Windows.
   </p>
   <p class="para">
    A partir do PHP 4.3.3 você pode usar seus scripts PHP com o
    <a href="ref.nsapi.html" class="link">módulo NSAPI</a> para
    
    o Apache também estão disponíveis. Para suporte nos servidores web atuais
    
   </p>

   <div class="sect3" id="install.windows.legacy.sun.cgi">
    <h4 class="title">Configurando como CGI em servidores Sun, iPlanet e Netscape</h4>
    <p class="para">
     Para instalar o PHP como um tratador de CGI, faça o seguinte:
    </p>
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       Copie o arquivo <var class="filename">php4ts.dll</var> para a pasta raiz do seu sistema
       (o diretório onde você instalou o Windows)
      </span>
     </li>
     <li class="listitem">
      <p class="para">
       Faça uma associação de arquivo a partir da linha de comando.
       Digite as duas linhas a seguir:
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</pre>
</div>
       </div>

      </p>
     </li>
     <li class="listitem">
      <span class="simpara">
       No Netscape Enterprise Administration Server crie
       um diretório dummy para o shellcgi e remova-o em seguida (esse
       passo cria 5 linhas importantes no obj.conf e permite que
       o servidor web trate scripts shellcgi).
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       No Netscape Enterprise Administration Server crie
       um novo tipo mime (Category: type,
       Content-Type: magnus-internal/shellcgi, File Suffix:php).
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Faça isso para cada instância do servidor web que você quiser que rode o PHP
      </span>
     </li>
    </ul>
    <p class="para">
     Mais detalhes sobre configuração do
     PHP como um executável CGI pode ser encontrado aqui:
     <a href="http://benoit.noss.free.fr/php/install-php.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php.html</a>
    </p>
   </div>

   <div class="sect3" id="install.windows.legacy.sun.nsapi">
    <h4 class="title">Configurando como NSAPI em servidores Sun, iPlanet e Netscape</h4>
    <p class="para">
     Para instalar o PHP com NSAPI, faça o seguinte:
    </p>
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       Copie <var class="filename">php4ts.dll</var> para a pasta raiz do seu sistema
       (o diretório onde você instalou o Windows)
      </span>
     </li>
     <li class="listitem">
      <p class="para">
       Faça uma associação de arquivo a partir da linha de comando.
       Digite as duas linhas a seguir:
       <div class="example-contents">
<div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
ftype PHPScript=c:\php\php.exe %1 %*</pre>
</div>
       </div>

      </p>
     </li>
     <li class="listitem">
      <span class="simpara">
       No Netscape Enterprise Administration Server crie
       um novo tipo mime (Category: type,
       Content-Type: magnus-internal/x-httpd-php, File Suffix: php).
      </span>
     </li>
     <li class="listitem">
      <p class="para">
        Edite o arquivo <var class="filename">magnus.conf</var> (para servidores &gt;= 6) ou
        <var class="filename">obj.conf</var> (para servidores &lt; 6) e adicione o seguinte:
        Você deve
        colocar as linhas depois de <em>mime types init</em>.
       <div class="example-contents">
<div class="cdata"><pre>
Init fn=&quot;load-modules&quot; funcs=&quot;php4_init,php4_execute,php4_auth_trans&quot; shlib=&quot;c:/php/sapi/php4nsapi.dll&quot;
Init fn=&quot;php4_init&quot; LateInit=&quot;yes&quot; errorString=&quot;Failed to initialise PHP!&quot; [php_ini=&quot;c:/path/to/php.ini&quot;]
</pre></div>
       </div>

       (PHP &gt;= 4.3.3) O parâmetro <em>php_ini</em> é
       opcional, mas com ele você pode colocar seu arquivo
       <var class="filename">php.ini</var> no diretório de configuração do seu servidor web.
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       Configure o objeto padrão no arquivo  <var class="filename">obj.conf</var>
       (para classes de servidor virtual [Sun Web Server 6.0+] no
       arquivo <var class="filename">vserver.obj.conf</var>):
       Na seção  <em>&lt;Object name=&quot;default&quot;&gt;</em>,
       coloque essa linha necessariamente após todas as linhas do tipo &#039;ObjectType&#039;
       e antes das do tipo &#039;AddLog&#039;:
       <div class="example-contents">
<div class="cdata"><pre>
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/x-httpd-php&quot; [inikey=value inikey=value ...]
</pre></div>
       </div>

       (PHP &gt;= 4.3.3) Como parâmetros adicionais,você pode adicionar alguns valores
       especiais do arquivo <var class="filename">php.ini</var>, por exemplo, você pode
       atribuir um <em>docroot=&quot;/path/to/docroot&quot;</em>
       específico ao contexto no qual <em>php4_execute</em>
       é chamado. Para valores booleanos utilize 0/1 como valor,
       e não <em>&quot;On&quot;,&quot;Off&quot;,...</em>
       (Isso não funcionará), ex.:
       <em>zlib.output_compression=1</em> ao invés de
       <em>zlib.output_compression=&quot;On&quot;</em>
      </p>
     </li>
     <li class="listitem">
      <p class="para">
       Isso só é necessário se você quiser configurar um diretório que só consiste de
       scripts PHP (como em um diretório cgi-bin):
       <div class="example-contents">
<div class="cdata"><pre>
&lt;Object name=&quot;x-httpd-php&quot;&gt;
ObjectType fn=&quot;force-type&quot; type=&quot;magnus-internal/x-httpd-php&quot;
Service fn=php4_execute [inikey=value inikey=value ...]
&lt;/Object&gt;
</pre></div>
       </div>

       Depois disso você pode configurar um diretório na ferramenta de Administração do servidor e atribuir a ele
       um estilo <em>x-httpd-php</em>. Todos os arquivos neles serão executados como PHP.
       Isso é bom para esconder o uso do PHP renomeando os arquivos como <var class="filename">.html</var>.
      </p>
     </li>
     <li class="listitem">
      <span class="simpara">
       Reinicie seu servidor web e aplique as mudanças
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       Faça isso para cada instância do servidor web que você quiser que execute o PHP
      </span>
     </li>
    </ul>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Mais detalhes sobre configurar o
      PHP como um filtro NSAPI pode ser achado aqui:
      <a href="http://benoit.noss.free.fr/php/install-php4.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php4.html</a>
     </p>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      O tamanho de pilha que o PHP usa depende da configuração do servidor web. Se você tiver
      problemas com scripts muito grandes, é recomendado aumentar esse tamanho com o Administrador
      do Servidor (na seção &quot;MAGNUS EDITOR&quot;).
     </p>
    </p></blockquote>
   </div>

   <div class="sect3" id="install.windows.legacy.sun.phpini">
    <h4 class="title">Ambiente CGI e modificações recomendadas ao arquivo <var class="filename">php.ini</var></h4>
    <p class="para">
     É importante quando escrevendo scripts PHP levar em conta o fato que Sun JSWS/Sun ONE
     WS/iPlanet/Netscape são servidores multithreaded. Por isso, todas as
     requisições estão sendo executadas no mesmo espaço de processo (o espaço do servidor
     web) e esse espaço só tem um ambiente. Se você quiser usar variáveis
     CGI como <em>PATH_INFO</em>, <em>HTTP_HOST</em>
     etc, não é correto tentar pegá-las da maneira do PHP antigo, usando a função
     <span class="function"><a href="function.getenv.html" class="function">getenv()</a></span> ou uma maneira similar (registrar globais para o
     ambiente, <em>$_ENV</em>). Você só iria pegar o ambiente do
     servidor web sem quaisquer variáveis CGI válidas!
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Porque existem variáveis CGI (inválidas) no ambiente?
     </p>
     <p class="para">
      Resposta: Isso é porque você inicializou o processo do servidor a partir do administrador
      do servidor que executa o script de inicialização do servidor web, você queria iniciar, como um script
      CGI (um script CGI dentro do administrador do servidor!). Isso é porque o ambiente do
      servidor tem algumas variáveis CGI do ambiente nele. Você pode testar isso
      inicializando o servidor web de outra forma que não pelo administrador do servidor. Use
      a linha de comando como usuário root e inicialize-o manualmente - você verá
      que não há variáveis ambientes do tipo CGI.
     </p>
    </p></blockquote>
    <p class="para">
     Simplesmente mude seus scripts para pegar variáveis CGI da maneira correta para
     o PHP 4.x, usando o array superglobal <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var></var>. Se você tiver
     scripts mais antigos que usem <var class="varname"><var class="varname">$HTTP_HOST</var></var>, etc., você deve ligar a
     diretiva <em>register_globals</em> no arquivo <var class="filename">php.ini</var> e mudar a ordem das
     variáveis também (importante: remova <em>&quot;E&quot;</em> da diretiva,
     porque você não precisa das variávies de ambiente aqui):
     <div class="example-contents">
<div class="cdata"><pre>
variables_order = &quot;GPCS&quot;
register_globals = On
</pre></div>
     </div>

    </p>
   </div>

   <div class="sect3" id="install.windows.legacy.sun.specialpages">
    <h4 class="title">Uso especial para páginas de erro ou listagens de conteúdo de diretório auto-geradas (PHP &gt;= 4.3.3)</h4>
    <p class="para">
     Você pode usar o PHP para gerar as páginas de erro para <em>&quot;404 Not Found&quot;</em>
     ou similar. Adicione a seguinte linha ao objeto no arquivo <var class="filename">obj.conf</var> para
     cada página de erro que você queira sobrescrever:
     <div class="example-contents">
<div class="cdata"><pre>
Error fn=&quot;php4_execute&quot; code=XXX script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     onde <em>XXX</em> é o código de erro HTTP. Por favor apague
     qualquer outra diretiva <em>Error</em> que podem interferir com as suas.
     Se você quiser colocar uma página para todos os erros que podem existir, não
     informe o parâmetro <em>code</em>. Seu script pode determinar qual o erro
     pela variável <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['ERROR_TYPE']</a></var></var>.
    </p>
    <p class="para">
     Outra possibilidade é gerar listagens de conteúdo de diretório.
     Apenas crie um script PHP que mostre uma listagem do diretório e
     substitua o valor padrão da linha Service
     <em>type=&quot;magnus-internal/directory&quot;</em>
     no arquivo <var class="filename">obj.conf</var> com a seguinte:
     <div class="example-contents">
<div class="cdata"><pre>
Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/directory&quot; script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
</pre></div>
     </div>

     Tanto para páginas de erro e de listagem de diretório a URI original e
     a URI traduzida estão nas variáveis <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_INFO']</a></var></var> e
     <var class="varname"><var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['PATH_TRANSLATED']</a></var></var>.
    </p>
   </div>
   
   <div class="sect3" id="install.windows.legacy.sun.notes">
    <h4 class="title">Nota sobre <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> e subrequisições (subrequests) (PHP &gt;= 4.3.3)</h4>
    <p class="para">
     O módulo NSAPI agora suporta a função <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span>
     (sinônimo (alias): <span class="function"><a href="function.virtual.html" class="function">virtual()</a></span>)
     para fazer subrequisições no servidor web e inserir o resultado em uma página web.
     O problema é que essa função usa algumas características não documentadas da
     biblioteca NSAPI.
    </p>
    <p class="para">
     No Unix, isso não é um problema, porque o módulo procura automaticamente
     pelas funções necessárias e usa elas se disponíveis.
     Se não, <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> é desabilitada.
    </p>
    <p class="para">
     Limitações de tratamento de DLLs no Windows precisam da detecção
     automática do arquivo <var class="filename">ns-httpdXX.dll</var> mais recente.
     Isso é testado pelos servidores até a versão 6.1. Se uma versão mais nova do
     servidor Sun é usado, a detecção falha e <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span>
     é desabilitada.
    </p>
    <p class="para">
     Se esse for o caso, tente o seguinte:
     Adicione o seguinte parâmetro para <em>php4_init</em> em
     <var class="filename">magnus.conf</var>/<var class="filename">obj.conf</var>:
     <div class="example-contents">
<div class="cdata"><pre>
Init fn=php4_init ... server_lib=&quot;ns-httpdXX.dll&quot;
</pre></div>
     </div>

     onde <em>XX</em> é o número de versão correto da DLL.
     Para obter esse valor, procure na pasta raiz do servidor para o nome correto da DLL. A
     DLL com o maior tamanho é a certa.
    </p>
    <p class="para">
     Você pode verificar o status usando a função <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span>.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Mas esteja avisado: O suporte para <span class="function"><a href="function.nsapi-virtual.html" class="function">nsapi_virtual()</a></span> é EXPERIMENTAL!!!
     </p>
    </p></blockquote>
   </div>
  </div>



   

   <div class="sect2" id="install.windows.legacy.sambar">
    <h3 class="title">Servidor Sambar no Microsoft Windows</h3>
    <p class="para">
     Essa seção contem notas e dicas específicas para o
     <a href="http://www.sambar.com/" class="link external">&raquo;&nbsp;Sambar Server</a> para Windows.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Você deve ler os <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">passos
      de instalação do manual</a> antes!
     </p>
    </p></blockquote>
    <p class="simpara">
     Essa lista descreve como instalar o módulo ISAPI para
     que funcione com o servidor Sambar no Windows.
    </p>

    <p class="para">
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Ache o arquivo chamado <var class="filename">mappings.ini</var> (no diretório
        de configuração) no diretório de instalação dp Sambar.
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Abra o arquivo <var class="filename">mappings.ini</var> e adicione a seguinte linha
        sob <em>[ISAPI]</em>:
      <div class="example" id="example-48">
       <p><strong>Exemplo #22 Configuração ISAPI do Sambar</strong></p>
       <div class="example-contents">
<div class="cdata"><pre>
#para o PHP 4
*.php = c:\php\php4isapi.dll

#para o PHP 5
*.php = c:\php\php5isapi.dll
</pre></div>
       </div>

      </div>
        (Essa linha presume que o PHP foi instalado em
        <var class="filename">c:\php</var>.)
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Agora reinicie o servidor Sambar para que as mudanças tenha efeito.
       </p>
      </li>
     </ul>
    </p>

    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Se você deseja usar o PHP para se comunicar com recursos que estão guardados
      em um computador diferente em sua rede, então você precisará alterar a conta de
      usuário usada pelo Sambar Server Service. A conta padrão usada pelo Sambar Server
      Service é LocalSystem, que não tem acesso a recursos remotos. A conta pode ser modifica
      usando a opção Serviços (Services) dentro do das Ferramentas Administrativas (Administation Tools)
      do Painel de Controle (Control Panel) do Windows.
     </p>
    </p></blockquote>
   </div>



   

   <div class="sect2" id="install.windows.legacy.xitami">
    <h3 class="title">Xitami no Microsoft Windows</h3>
    <p class="para">
     Essa seção contem notas e dicas específicas para o
     <a href="http://www.xitami.com/" class="link external">&raquo;&nbsp;Xitami</a> no Windows.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      Você deve ler os <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">passos
      de instalação manual </a> primeiro!
     </p>
    </p></blockquote>
    <p class="simpara">
     Essa lista descreve como configura o binário CGI do PHP
     para funcionar com Xitami no Windows.
    </p>

    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <strong>Importante para usuários que instalaram o CGI</strong><br />
     <p class="para">
      Leia o <a href="faq.installation.html#faq.installation.forceredirect" class="link">faq
      sobre cgi.force_redirect</a> para detalhes importantes. Essa
      diretiva precisa ser editada para <em>0</em>.
      Se você quiser usar <em>$_SERVER[&#039;PHP_SELF&#039;]</em> você tem
      que habilitar a diretiva <a href="ini.core.html#ini.cgi.fix-pathinfo" class="link">
      cgi.fix_pathinfo</a>.
     </p>
    </p></blockquote>
    <div class="warning"><strong class="warning">Aviso</strong><p class="para">Um servidor implantado em modo CGI está aberto
 para várias vulnerabilidades possíveis. Por favor, leia nossa
 <a href="security.cgi-bin.html" class="link">seção de segurança CGI</a> para aprender em como
 se defender de tais ataques.</p></div>
    <p class="para">
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Assegure-se que o servidor web está rodando e aponte
        o seu browser para o console de administração do Xitami
        (normalmente <em>http://127.0.0.1/admin</em>),
        e clique em Configuração (Configuration).
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Navegue para os Filtros (Filters), e ponha a
        extensão que o PHP deve avaliar (ex.: .php)
        no campo extensões de Arquivo (.xxx).
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        No comando ou script Filtro (Filter) ponha o caminho e o nome
        do seu executável CGI, ex.: <var class="filename">C:\php\php.exe</var>
        para o PHP 4, ou <var class="filename">C:\php\php-cgi.exe</var> para o PHP 5.
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Pressione o ícone Salvar (Save).
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Reinicie o servidor para as mudanças terem efeito.
       </p>
      </li>
     </ul>
    </p>
   </div>



   

<div class="sect2" id="install.windows.legacy.building">
 <h3 class="title">Compilando a partir dos fontes</h3>
 <p class="para">
  Esse capítulo ensina como compilar PHP a partir dos fontes no Windows, usando
  as ferramentas da Microsoft. Para compilar o PHP com cygwin, veja o <a href="install.unix.html" class="xref">Instala&ccedil;&atilde;o em sistemas Unix</a>.
 </p>
 <p class="para">
  Veja a documentação no Wiki em:
  <a href="https://wiki.php.net/internals/windows/stepbystepbuild" class="link external">&raquo;&nbsp;https://wiki.php.net/internals/windows/stepbystepbuild</a>
 </p>
</div>



   

   <div class="sect2" id="install.windows.legacy.extensions">
    <h3 class="title">Instalação de extensões no Windows</h3>
    <p class="para">
     Depois de instalar o PHP e um servidor web no Windows, você provavelmente desejará
     instalar algumas extensões para ter funcionalidades extras. Você pode escolher quais
     extensões você quer que o PHP carregue quando é iniciado modificando o arquivo
     <var class="filename">php.ini</var>. Você também pode carregar um módulo dinamicamente no seu script usando
     <span class="function"><a href="function.dl.html" class="function">dl()</a></span>.
    </p>
    <p class="para">
     Os DLLs para extensões do PHP são prefixadas com <em>php_</em>.
    </p>
    <p class="para">
     Muitas extensões são <em class="emphasis">compiladas dentro</em> da versão para
     Windows. Isso significa que arquivos DLL adicionais, e a diretiva
     <a href="ini.core.html#ini.extension" class="link">extension</a>, <em class="emphasis">não</em>
     são utilizadas para carregar essas extensões. A tabela de
     <a href="install.windows.legacy.index.html#install.windows.legacy.extensions.overview" class="link">Extensões PHP</a>
     lista extensões que requerem, ou costumavam requerer, arquivos DLL
     adicionais do PHP. Aqui está uma lista das extensões já compiladas dentro do PHP 5.0.4:
     <a href="book.bc.html" class="link">BCMath</a>,
     <a href="book.calendar.html" class="link">Caledar</a>,
     <a href="book.com.html" class="link">COM</a>,
     <a href="book.ctype.html" class="link">Ctype</a>,
     <a href="book.dom.html" class="link">DOM</a>,
     <a href="book.ftp.html" class="link">FTP</a>,
     <a href="book.libxml.html" class="link">LibXML</a>,
     <a href="book.iconv.html" class="link">Iconv</a>,
     <a href="book.uodbc.html" class="link">ODBC</a>,
     <a href="book.pcre.html" class="link">PCRE</a>,
     <a href="book.session.html" class="link">Session</a>,
     <a href="book.simplexml.html" class="link">SimpleXML</a>,
     <a href="book.spl.html" class="link">SPL</a>,
     <a href="book.sqlite.html" class="link">SQLite</a>,
     <a href="book.wddx.html" class="link">WDDX</a>,
     <a href="book.xml.html" class="link">XML</a> e
     <a href="book.zlib.html" class="link">Zlib</a>.
    </p>
    <p class="para">
     A localização padrão que o PHP procura por extensões é
     <var class="filename">C:\php5</var>. Para mudar esta
     configuração para refletir sua instalação do PHP, edite o arquivo <var class="filename">php.ini</var>:
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Você precisará mudar a configuração
        <a href="ini.core.html#ini.extension-dir" class="link">extension_dir</a>para
        apontar o diretório onde suas extensões estão guardadas, ou onde você
        colocou os arquivos <var class="filename">php_*.dll</var>. Por exemplo:
        <div class="informalexample">
         <div class="example-contents">
<div class="inicode"><pre class="inicode">extension_dir = C:\php\extensions</pre>
</div>
         </div>

        </div>
       </p>
      </li>
     <li class="listitem">
      <p class="para">
       Habilite a(s) extensão(ões) no arquivo <var class="filename">php.ini</var> que você quiser descomentando as
       linhas <em>extension=php_*.dll</em>. Isso é feito
       removendo o ; na antes da linha com a extensão que você quer carregar.
       <div class="example" id="example-49">
        <p><strong>Exemplo #23 Habilitar a extensão <a href="book.bzip2.html" class="link">Bzip2</a> para o PHP-Windows</strong></p>
         <div class="example-contents">
<div class="inicode"><pre class="inicode">// Mude a seguinte linha de ...
;extension=php_bz2.dll

// ... para
extension=php_bz2.dll</pre>
</div>
         </div>

        </div>
       </p>
     </li>
      <li class="listitem">
       <p class="para">
        Algumas dessas extensões precisam de DLLs extras para funcionar. Umas poucas podem ser
        encontradas no pacote de distribuição, na pasta principal, mas algumas (por exemplo o Oracle
        <var class="filename">php_oci8.dll</var>) requer DLLs que não estão incluídas
        no pacote de distribuição. Não se esqueça de incluir <var class="filename">C:\php</var> na variável de ambiente
        <var class="envar">PATH</var> (este processo é explicado no<a href="faq.installation.html#faq.installation.addtopath" class="link">FAQ</a>).
       </p>
     </li>
     <li class="listitem">
      <p class="para">
       Algumas destas dlls não sao embutidas com a distribuição do PHP. Veja a
       documentação de cada extensão para maiores detalhes. Também leia o manual
       na sessão entitulada <a href="install.pecl.html" class="link">Instalação de extensões
       PECL</a> para detalhes sobre <acronym title="PHP Extension and Application Repository">PECL</acronym>. Um
       crestente número de extensões para o PHP são encontradas no
       <acronym title="PHP Extension and Application Repository">PECL</acronym>, e estas extensões precisam de um
       <a href="install.pecl.downloads.html" class="link">download separado</a>.
      </p>
     </li>
    </ul>
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <span class="simpara">
     Se você estiver executando a versão de módulo do servidor do PHP
     lembre de reiniciar o servidor web para que as mudanças no arquivo <var class="filename">php.ini</var> sejam efetivadas.
    </span>
   </p></blockquote>
   </p>

   <p class="para">
    A tabela a seguir descreve algumas das extensões disponíveis e as dlls
    adicionais requeridas.
    <table id="install.windows.legacy.extensions.overview" class="doctable table">
     <caption><strong>Extensões do PHP</strong></caption>
     
      <thead>
       <tr>
        <th>Extensão</th>
        <th>Descrição</th>
        <th>Notas</th>
       </tr>

      </thead>

      <tbody class="tbody">
  <tr>
   <td>php_bz2.dll</td>
   <td>Funções de Compressão de <a href="book.bzip2.html" class="link">bzip2</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_calendar.dll</td>
   <td>Funções de Conversão de <a href="book.calendar.html" class="link">Calendar</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_crack.dll</td>
   <td>Funções de <a href="book.crack.html" class="link">Crack</a> </td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_ctype.dll</td>
   <td>Família de Funções <a href="book.ctype.html" class="link">ctype</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_curl.dll</td>
   <td>Biblioteca de Funções de Cliente URL - <a href="book.curl.html" class="link">CURL</a></td>
   <td>Requer: <var class="filename">libeay32.dll</var>,
   <var class="filename">ssleay32.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_dba.dll</td>
   <td>Camada de Funções de Abstração de Banco de Dados
   <a href="book.dba.html" class="link">DBA</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_dbase.dll</td>
   <td>Funções de <a href="book.dbase.html" class="link">dBase</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_dbx.dll</td>
   <td>Funções <a href="book.dbx.html" class="link">dbx</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_exif.dll</td>
   <td>Funções <a href="book.exif.html" class="link">EXIF</a></td>
   <td>
    <a href="book.mbstring.html" class="link">php_mbstring.dll</a>. e,
    <var class="filename">php_exif.dll</var> devem ser carregados <em>depois</em> de
    <var class="filename">php_mbstring.dll</var> no arquivo <var class="filename">php.ini</var>.
   </td>
  </tr>

  <tr>
   <td>php_fbsql.dll</td>
   <td>Funções <a href="book.fbsql.html" class="link">FrontBase</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_fdf.dll</td>
   <td><a href="book.fdf.html" class="link">FDF</a>: Forms Data Format functions.</td>
   <td>Requer: <var class="filename">fdftk.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_filepro.dll</td>
   <td>Funções de <a href="book.filepro.html" class="link">filePro</a></td>
   <td>Fornece acesso somente leitura</td>
  </tr>

  <tr>
   <td>php_ftp.dll</td>
   <td>Funções de <a href="book.ftp.html" class="link">FTP</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_gd2.dll</td>
   <td>Funções da biblioteca de imagens <a href="book.image.html" class="link">GD</a></td>
   <td>GD2</td>
  </tr>

  <tr>
   <td>php_gettext.dll</td>
   <td>Funções de <a href="book.gettext.html" class="link">Gettext</a></td>
   <td>
    PHP &lt;= 4.2.0 requer <var class="filename">gnu_gettext.dll</var> (incluso),
    PHP &gt;= 4.2.3 requer <var class="filename">libintl-1.dll</var>,
    <var class="filename">iconv.dll</var> (incluso).
   </td>
  </tr>

  <tr>
   <td>php_hyperwave.dll</td>
   <td>HyperWave functions</td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_iconv.dll</td>
   <td>Conversão de tabela de caracteres <a href="book.iconv.html" class="link">ICONV</a></td>
   <td>
    Requer: <var class="filename">iconv-1.3.dll</var> (incluso), <var class="filename">iconv.dll</var>
   </td>
  </tr>

  <tr>
   <td>php_ifx.dll</td>
   <td>Funções de <a href="book.ifx.html" class="link">Informix</a></td>
   <td>Requer: bibliotecas Informix</td>
  </tr>

  <tr>
   <td>php_iisfunc.dll</td>
   <td>Funções de manuseio de IIS</td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_imap.dll</td>
   <td>Funções de <a href="book.imap.html" class="link">IMAP</a> POP3 e NNTP</td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_ingres.dll</td>
   <td>Funções de <a href="book.ingres.html" class="link">Ingres II</a></td>
   <td>Requer: bibliotecas Ingres</td>
  </tr>

  <tr>
   <td>php_interbase.dll</td>
   <td>Funções de <a href="book.ibase.html" class="link">InterBase</a></td>
   <td>Requer: <var class="filename">gds32.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_ldap.dll</td>
   <td>Funções de <a href="book.ldap.html" class="link">LDAP</a></td>
   <td>
    Requer <var class="filename">libeay32.dll</var> e
    <var class="filename">ssleay32.dll</var> (inclusos)
   </td>
  </tr>

  <tr>
   <td>php_mbstring.dll</td>
   <td>Funções de <a href="book.mbstring.html" class="link">Multi-Byte String</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_mcrypt.dll</td>
   <td>Funções de <a href="book.mcrypt.html" class="link">Mcrypt Encryption</a></td>
   <td>Requer: <var class="filename">libmcrypt.dll</var></td>
  </tr>

  <tr>
   <td>php_mhash.dll</td>
   <td>Funções de <a href="book.mhash.html" class="link">Mhash</a></td>
  <td>Requer: <var class="filename">libmhash.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_mime_magic.dll</td>
   <td>Funções de <a href="book.mime-magic.html" class="link">Mimetype</a></td>
   <td>Requer: <var class="filename">magic.mime</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_ming.dll</td>
   <td>Funções <a href="book.ming.html" class="link">Ming</a> para Flash</td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_msql.dll</td>
   <td>Funções de <a href="book.msql.html" class="link">mSQL</a></td>
   <td>Requer: <var class="filename">msql.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_mssql.dll</td>
   <td>Funções de <a href="book.mssql.html" class="link">MSSQL</a></td>
   <td>Requer: <var class="filename">ntwdblib.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_mysql.dll</td>
   <td>Funções de <a href="book.mysql.html" class="link">MySQL</a></td>
   <td>Requer <var class="filename">libmysql.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_mysqli.dll</td>
   <td>Funções de <a href="book.mysqli.html" class="link">MySQLi</a></td>
   <td>Requer <var class="filename">libmysql.dll</var>
    (<var class="filename">libmysqli.dll</var> in PHP &lt;= 5.0.2) (incluso)</td>
  </tr>

  <tr>
   <td>php_oci8.dll</td>
   <td>Funções de <a href="book.oci8.html" class="link">Oracle 8</a></td>
   <td>Requer: bibliotecas Oracle 8.1+ client</td>
  </tr>

  <tr>
   <td>php_openssl.dll</td>
   <td>Funções de <a href="book.openssl.html" class="link">OpenSSL</a></td>
   <td>Requer: <var class="filename">libeay32.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_pdf.dll</td>
   <td>Funções de <a href="book.pdf.html" class="link">PDF</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_pgsql.dll</td>
   <td>Funções de <a href="book.pgsql.html" class="link">PostgreSQL</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_shmop.dll</td>
   <td>Funções de <a href="book.shmop.html" class="link">Memória Compartilhada</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_snmp.dll</td>
   <td>Funções de get and walk de <a href="book.snmp.html" class="link">SNMP</a></td>
   <td>Apenas no NT!</td>
  </tr>

  <tr>
   <td>php_soap.dll</td>
   <td>Funções de <a href="book.soap.html" class="link">SOAP</a></td>
   <td>PHP &gt;= 5.0.0</td>
  </tr>

  <tr>
   <td>php_sockets.dll</td>
   <td>Funções de <a href="book.sockets.html" class="link">Socket</a></td>
   <td>Nenhuma</td>
  </tr>

  <tr>
   <td>php_sybase_ct.dll</td>
   <td>Funções de <a href="book.sybase.html" class="link">Sybase</a></td>
   <td>Requer: bibliotecas de cliente do Sybase</td>
  </tr>

  <tr>
   <td>php_tidy.dll</td>
   <td>Funções de <a href="book.tidy.html" class="link">Tidy</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_tokenizer.dll</td>
   <td>Funções de <a href="book.tokenizer.html" class="link">Tokenizer</a></td>
   <td class="empty">&nbsp;</td>
  </tr>

  <tr>
   <td>php_w32api.dll</td>
   <td>Funções W32api</td>
   <td>None</td>
  </tr>

  <tr>
   <td>php_xmlrpc.dll</td>
   <td>Funções de <a href="book.xmlrpc.html" class="link">XML-RPC</a></td>
   <td>Requer: <var class="filename">iconv.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_xslt.dll</td>
   <td>XSLT functions</td>
   <td>
    Requer <var class="filename">sablot.dll</var>, <var class="filename">expat.dll</var>,
    <var class="filename">iconv.dll</var> (inclusos).
   </td>
  </tr>

  <tr>
   <td>php_yaz.dll</td>
   <td>Funções do <a href="book.yaz.html" class="link">YAZ</a></td>
   <td>Requer: <var class="filename">yaz.dll</var> (incluso)</td>
  </tr>

  <tr>
   <td>php_zip.dll</td>
   <td>Funções para <a href="book.zip.html" class="link">Arquivos Zip</a></td>
   <td>Acesso apenas de leitura</td>
  </tr>

  <tr>
   <td>php_zlib.dll</td>
   <td>Funções de compressão de <a href="book.zlib.html" class="link">ZLib</a></td>
   <td>Integrado desde o PHP 4.3.0</td>
  </tr>

       </tbody>
      
     </table>

    </p>
   </div>



   

   <div class="sect2" id="install.windows.legacy.commandline">
    <h3 class="title">Command Line PHP on Microsoft Windows</h3>
    <p class="para">
     This section contains notes and hints specific to getting PHP running
     from the command line for Windows.
    </p>
    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      You should read the <a href="install.windows.legacy.index.html#install.windows.legacy.manual" class="link">manual
      installation steps</a> first!
     </p>
    </p></blockquote>
    <p class="para">
     Getting PHP to run from the command line can be performed without making
     any changes to Windows.
     <div class="example-contents screen">
<div class="cdata"><pre>
C:\PHP5\php.exe -f &quot;C:\PHP Scripts\script.php&quot; -- -arg1 -arg2 -arg3
</pre></div>     
     </div>
    </p>

    <p class="para">
     But there are some easy steps that can be followed to make this simpler.
     Some of these steps should already have been taken, but are repeated here
     to be able to provide a complete step-by-step sequence.
      
     
     <ul class="itemizedlist">
      
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <p class="para">
        Both <var class="envar">PATH</var> and <var class="envar">PATHEXT</var> are important pre-existing system variables in Windows, and care should be taken to not overwrite either variable, only to add to them.
       </p>
      </p></blockquote>

      <li class="listitem">
       <p class="para">
        Append the location of the PHP executable (<var class="filename">php.exe</var>,
        <var class="filename">php-win.exe</var> or <var class="filename">php-cli.exe</var>
        depending upon your PHP version and display preferences) to the
        <var class="envar">PATH</var> environment variable. Read more about how to
        add your PHP directory to <var class="envar">PATH</var> in the <a href="faq.installation.html#faq.installation.addtopath" class="link">corresponding FAQ entry</a>.
       </p>
      </li>

      <li class="listitem">
       <p class="para">
        Append the <em>.PHP</em> extension to the
        <var class="varname"><var class="varname">PATHEXT</var></var> environment variable. This can be done
        at the same time as amending the <var class="envar">PATH</var> environment
        variable. Follow the same steps as described in the <a href="faq.installation.html#faq.installation.addtopath" class="link">FAQ</a> but amend the
        <var class="varname"><var class="varname">PATHEXT</var></var> environment variable rather than the
        <var class="envar">PATH</var> environment variable.
        <blockquote class="note"><p><strong class="note">Nota</strong>: 
         <p class="para">
          The position in which you place the <em>.PHP</em> will
          determine which script or program is executed when there are matching
          filenames. For example, placing <em>.PHP</em> before
          <em>.BAT</em> will cause your script to run, rather than
          the batch file, if there is a batch file with the same name.
         </p>
        </p></blockquote>
       </p>
      </li>

      <li class="listitem">
       <p class="para">
        Associate the <em>.PHP</em> extension with a file type. This
        is done by running the following command:
        <div class="example-contents screen">
<div class="cdata"><pre>
assoc .php=phpfile
</pre></div>     
        </div>
       </p>
      </li>

      <li class="listitem">
       <p class="para">
        Associate the <em>phpfile</em> file type with the appropriate
        PHP executable. This is done by running the following command:
        <div class="example-contents screen">
<div class="cdata"><pre>
ftype phpfile=&quot;C:\PHP5\php.exe&quot; -f &quot;%1&quot; -- %~2
</pre></div>     
        </div>
       </p>
      </li>

     </ul>
    </p>

    <p class="para">
     Following these steps will allow PHP scripts to be run from any directory
     without the need to type the PHP executable or the <em>.PHP</em>
     extension and all parameters will be supplied to the script for processing.
    </p>

    <p class="para">
     The example below details some of the registry changes that can be made manually.
     <div class="example" id="example-50">
      <p><strong>Exemplo #24 Registry changes</strong></p>
      <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\.php]
@=&quot;phpfile&quot;
&quot;Content Type&quot;=&quot;application/php&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile]
@=&quot;PHP Script&quot;
&quot;EditFlags&quot;=dword:00000000
&quot;BrowserFlags&quot;=dword:00000008
&quot;AlwaysShowExt&quot;=&quot;&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\DefaultIcon]
@=&quot;C:\\PHP5\\php-win.exe,0&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell]
@=&quot;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open]
@=&quot;&amp;Open&quot;

[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open\command]
@=&quot;\&quot;C:\\PHP5\\php.exe\&quot; -f \&quot;%1\&quot; -- %~2&quot;
</pre></div>
      </div>
     </div>
    </p>

    <p class="para">
     With these changes the same command can be written as:
     <div class="example-contents screen">
<div class="cdata"><pre>
&quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
     </div>
     or, if your <em>&quot;C:\PHP Scripts&quot;</em> path is in the
     <var class="envar">PATH</var> environment variable:
     <div class="example-contents screen">
<div class="cdata"><pre>
script -arg1 -arg2 -arg3
</pre></div>
     </div>
    </p>

    <blockquote class="note"><p><strong class="note">Nota</strong>: 
     <p class="para">
      There is a small problem if you intend to use this technique and use your
      PHP scripts as a command line filter, like the example below:
      <div class="example-contents screen">
<div class="cdata"><pre>
dir | &quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
</pre></div>
      </div>
      or
      <div class="example-contents screen">
<div class="cdata"><pre>
dir | script -arg1 -arg2 -arg3
</pre></div>
      </div>
      You may find that the script simply hangs and nothing is output.
      To get this operational, you need to make another registry change.
      <div class="example-contents screen">
<div class="cdata"><pre>
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\policies\Explorer]
&quot;InheritConsoleHandles&quot;=dword:00000001
</pre></div>
      </div>
      Further information regarding this issue can be found in this <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;321788" class="link external">&raquo;&nbsp;Microsoft
      Knowledgebase Article : 321788</a>.
      As of Windows 10, this setting seems to be reversed, making the default install of
      Windows 10 support inherited console handles automatically. This <a href="https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console?forum=windowssdk" class="link external">&raquo;&nbsp;
      Microsoft forum post</a> provides the explanation.
     </p>
    </p></blockquote>
   </div>



  </div></div></div></body></html>